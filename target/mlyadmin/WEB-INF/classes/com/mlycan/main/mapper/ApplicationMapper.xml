<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace必须是Dao接口的全类名 -->
<mapper namespace="com.mlycan.main.mapper.ApplicationMapper">
	<resultMap type="com.mlycan.main.entity.Application" id="applicationResultMap">
		<id property="" column=""/>
		<result property="appId" column="app_id"/>
		<result property="account" column="account"/>
		<result property="application" column="application"/>
		<result property="appName" column="app_name"/>
		<result property="classify" column="classify"/>
		<result property="semantic" column="semantic"/>
		<result property="active" column="active"/>
	</resultMap>
	<select id="findAll" resultMap="applicationResultMap">
		<![CDATA[
		select  app.app_id,
				app.account,
				app.application,
				app.app_name,
				app.classify,
				app.semantic,
				app.active
		from mly_application  app
		]]>
		<if test="count!=null">
			limit #{curpage},#{count}
		</if>
	</select>
	<select id="findAllCount" resultType="java.lang.Integer">
		<![CDATA[
			select count(app.app_id) as value
			  from  mly_application app
		]]>
	</select>
	<select id="findApplication" resultMap="applicationResultMap">
	<![CDATA[
		select app.app_id,
		       app.account,
		       app.application,
		       app.app_name,
		       app.classify,
		       app.semantic,
		       app.active
		from mly_application app    
		where app.app_id=#{appId}
	]]>
	</select>
	<insert id="saveApplication" >
	<![CDATA[
		insert into mly_application (app_id,account,application,app_name,classify,semantic,active)
		values (#{appId},#{account},#{application},#{appName},#{classify},#{semantic},#{active})
	]]>
	</insert>
	<update id="updateApplication" parameterType="com.mlycan.main.entity.Application">
	<![CDATA[
		update mly_application app
			set 
				app.app_id=#{appId},
				app.account=#{account},
				app.application=#{application},
				app.app_name=#{appName},
				app.classify=#{classify},
				app.semantic=#{semantic},
				app.active=#{active} 
			where app.app_id=#{appId}
	]]>
	</update>
	<delete id="deleteApplication">
		<![CDATA[
			delete
			from  mly_application
			where app_id=#{appId}
		]]>
	</delete>
</mapper>